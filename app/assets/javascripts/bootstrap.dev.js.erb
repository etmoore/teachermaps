
/**
element = the div element of the Modal's body.

By passing in the element, we can localize the dismiss model
button of the model and close the modal properly. If 
no elment is given, we close all open models.

*/
function closeModalOnSubmit(element){

    var element = element || undefined;
	window.setTimeout(function() { 
        
        if( element != undefined ){
            // With animation
            element.find('.close').click();
            console.log("Closed via click");
        } else {
            // Without animation
            $('.modal.in').modal('hide');   
            console.log("Closed manually");
        }

    }, 300);

    window.setTimeout(function() { 
    	$('.modal-backdrop').fadeOut('fast');    
        $('.modal-backdrop').remove();
    }, 400);
    console.log('Closing Modal');

}