$(document).ready(function() {   


  //////////////////////////////
  //
  // Best In Place editing
  //
  //////////////////////////////
  $(".best_in_place").best_in_place();

  //////////////////////////////
  //
  // Boostrap Anchoring of Tabs
  //
  //////////////////////////////
  if(window.location.hash != ""){
    $('a[href="' + window.location.hash + '"]').click()
  }

  //////////////////////////////
  //
  // Best in place global settings 
  //
  //////////////////////////////
  $(document).on('best_in_place:error', function(event, request, error) {
    // Display all error messages from server side validation
    jQuery.each(jQuery.parseJSON(request.responseText), function(index, value) {
      if( typeof(value) == "object") {value = index + " " + value.toString(); }
      pushFlash({message: value, state:'success', fadeOut: 3000});
    });
  });

  $('.best_in_place form').focus(function(){
    this.children().select();
  });

  $('.editible-field').mouseenter(function(){
  	console.log("Going in !!!!");
  	// $(this).prepend('<i id="icon-hover" class="icon-edit"></i>');
  	$(this).append('<i id="icon-hover" class="icon-edit"></i>');
    
  });
  $('.editible-field').mouseleave(function(){

  	console.log("Coming out !!!!");
		$('#icon-hover').remove();

  });




  //////////////////////////////
  //
  // Global Regex Constants
  //
  //////////////////////////////
  var emailRegex = new RegExp(/^([\w\.\-]+)@([\w\-]+)((\.(\w){2,3})+)$/i);
   

});