<div class="span6">
<div id="editResourceLinkErrors"></div>
  
<%= form_for @resource, :url=>resource_path, html: { :remote=>true, :multipart => true, :'data-type' => 'html', id: 'edit_resource_link_form' }  do |f| %>
  

  <%= label_tag(:title, t('resources.title_label')) %>
  <%= f.text_field :title  %>

  
  <%= label_tag(:link, t('resources.link_label')) %>
  <%= f.text_field :link  %>


  <%= label_tag(:course_grades, "Grades") %>
  <%= select_tag("resource[course_grades]", options_for_select(CourseGrade.find(:all).collect { |cat| [cat.name, cat.id] }, @resource.course_grades.collect { |cat| cat.id}), {:multiple=>true, :id=>'select_edit_coruse_grades'})%>
  <br/><br/>
 

  <%= label_tag(:course_subjects, "Subjects") %>
  <%= select_tag("resource[course_subjects]", options_for_select(CourseSubject.find(:all).collect { |cat| [cat.name, cat.id] }, @resource.course_subjects.collect { |cat| cat.id}), {:multiple=>true, :id=>'select_edit_coruse_subjects'})%>
  <br/><br/>

  <span>
    <% if @resource.type == LinkResource::TYPE %>
      <%= link_to 'Open Link', @resource.link, :class => 'btn', :target => "_blank"  %>
    <% else %>
      <%= link_to 'Open File', @resource.open_link, :class => 'btn', :target => "_blank"  %>
    <% end %>

    <%= link_to t('resources.delete_label'), resource_path(@resource) , :confirm => t('resources.delete_file_confirmation', :title=>@resource.title), :method => :delete, :class=>'btn' %>
    <%= f.submit("Save", :class=>"btn btn-primary start") %>
  </span>

<% end %>
</div>

<script type="text/javascript">
$(document).ready(function() { 

  $("#select_edit_coruse_grades").select2({
    width : 'resolve'
  });
  $("#select_edit_coruse_subjects").select2({
    width : 'resolve'
  });
});

</script>